<!DOCTYPE html>
<html lang="en">
<head>
    <!--
        GAME FUNCTION: 
        - Player must guess a number between a min and max number
        - Player gets a certain amount of guesses
        - Notify player of guesses remaining
        - Notify the player of the correct answer if loose
        - Let player choose to play 
    -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Number Guesser</title>
</head>
<body>
    Number Guesser <br>
    <input id="enteredNum" type="text" placeholder="Enter a number from 1 to 10..." size="40"> 
    <input type="button" id="checkButton" onclick="numberGuesser()" value="Check the number">
    <input type="button" id="newGame" onclick="newGame()" value="New Game" style="display:none;">
    <p id="result"></p>


    <script>        
        let result = document.getElementById('result');
        let counter = 0;
        let maxTries = 3;

        const randomNumber = Math.ceil(Math.random() * 10);

        const numberGuesser = () => {
            let enteredValue = document.getElementById('enteredNum').value;

            if (isNaN(enteredValue) || enteredValue === '') {
                result.innerHTML = 'You must enter a number from 1 to 10!';
                return;
            }
            
            let enteredNum = parseInt(enteredValue);

            if (enteredNum > 10 || enteredNum < 1) {
                result.innerHTML = 'You must enter a number from 1 to 10!';
                return;
            }

            counter++;

            if (counter === maxTries) {
                document.getElementById('result').innerHTML = 'You have no more tries';
                updateButtons();
                return;
            }

            if (enteredNum !== randomNumber) {
                
                if (counter === maxTries)  {
                    result.innerHTML = 'You have no more tries';
                    updateButtons();
                }
                result.innerHTML = `You missed the number! You have ${maxTries-counter}  more chances! Enter a number again!`;

            } else {
                result.innerHTML = 'You guessed the number! Congrats!';
                updateButtons();
            }
            
        }

        const updateButtons = () => {
            document.getElementById('checkButton').disabled = true;
            document.getElementById('newGame').style.display = 'inline';
            document.getElementById('newGame').disabled = false;
        }

        const newGame = () => {
            counter = 0;
            document.getElementById('enteredNum').value = null;
            document.getElementById('checkButton').disabled = false;
            result.innerHTML = '';
            document.getElementById('newGame').disabled = true;
        }  
    </script>
</body>
</html>  